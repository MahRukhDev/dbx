{"version":3,"sources":["connectors.ts","components/Common/ScreenSize.tsx","components/App/Snackbar.tsx","photos/icons/file-icon.svg","ethereum/XENCrypto.js","ethereum/dbxen.js","components/App/Spinner.tsx","components/App/Burn.tsx","components/App/PermanentDrawer.tsx","ethereum/dbxenViews.js","ethereum/dbxenerc20.js","photos/icons/coin-bag-solid--light.svg","photos/icons/token.svg","photos/icons/coin-bag-solid--dark.svg","photos/icons/wallet--light.svg","photos/icons/wallet--dark.svg","photos/icons/fees.svg","photos/icons/finance.svg","ethereum/signer.js","ethereum/forwarder.js","components/App/Stake.tsx","components/Common/GaEventTracker.tsx","components/Contexts/ThemeContext.tsx","components/Contexts/ThemeProvider.tsx","photos/icons/elephant.svg","photos/white_dbxen.svg","photos/empty.png","components/Common/AccountName.tsx","components/App/AppBar.tsx","photos/icons/copy-1.svg","photos/icons/wallet.svg","photos/icons/diconnect.svg","App.tsx","hooks.ts","reportWebVitals.ts","index.tsx"],"names":["injected","InjectedConnector","supportedChainIds","network","NetworkConnector","urls","defaultChainId","useWindowSize","useState","width","height","windowSize","setWindowSize","useEffect","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","Alert","forwardRef","props","ref","elevation","variant","SnackbarNotification","severity","state","open","message","setState","handleClose","event","reason","Snackbar","autoHideDuration","onClose","sx","abi","require","signerOrProvider","address","ethers","Contract","Spinner","color","rest","viewBox","xmlns","stroke","fill","fillRule","transform","strokeWidth","strokeOpacity","cx","cy","r","d","attributeName","type","from","to","dur","repeatCount","BigNumber","deb0xAddress","xenCryptoAddress","Burn","context","useWeb3React","library","account","notificationState","setNotificationState","value","setValue","approveBrun","setApproveBurn","balanceGratherThanZero","checkBalance","maticValue","setMaticValue","totalCost","setTotalCost","totalAmountOfXEN","setXENAmount","loading","setLoading","getSigner","signer","XENCrypto","xenContract","balanceOf","then","balance","number","utils","formatEther","toString","getCurrentPrice","options","method","url","port","headers","data","JSON","stringify","axios","request","requestValue","web3","fromWei","result","estimationValue","gasLimitIntervalValue","Number","price","totalValue","fee","obj","toFixed","total","getCurrentGasLimit","deb0xContract","DBXen","getCurrentCycle","currentCycle","batchBurned","cycleTotalBatchesBurned","numberBatchesBurnedInCurrentCycle","toNumber","totalAmountToBurn","approve","parseEther","wait","catch","error","currentValue","overrides","parseUnits","gasLimit","tx","console","log","resut","setBalance","setTimeout","className","max","onChange","e","target","onClick","LoadingButton","loadingPosition","burnXEN","disabled","setApproval","PermanentDrawer","connector","activatingConnector","setActivatingConnector","dimensions","ScreenSize","setNetworkName","forEach","chainId","providers","getNetwork","name","undefined","Box","display","Drawer","anchor","href","icon","faTwitter","size","src","document","faGithub","ethSigUtil","ethereumJsUtil","typeName","typeHash","id","EIP712Domain","ForwardRequest","getMetaTxTypeData","verifyingContract","types","domain","version","primaryType","signTypedData","argData","send","buildRequest","forwarder","input","valueParam","getNonce","nonce","gas","validUntilTime","buildTypedData","provider","n","typeData","getDomainSeparator","bufferToHex","TypedDataUtils","hashStruct","signMetaTxRequest","toSign","signature","domainSeparator","createInstance","whitelist","dataFromWhitelist","deb0xViewsAddress","deb0xERC20Address","Stake","category","gaEventTracker","action","ReactGA","totalXENBurned","setTotalXENBurned","previousCycleXENBurned","setPreviousCycleXENBurned","FeesPanel","feesUnclaimed","setFeesUnclaimed","getTotalXenBurned","totalNumberOfBatchesBurned","getTotalXenBurnedInPreviusCycle","DBXenViews","deb0xViewsContract","getUnclaimedFees","unclaimedRewards","fetchClaimFeesResult","fetch","body","response","json","parse","status","sendClaimFeesTx","claimFees","getAddress","includes","interface","encodeFunctionData","feesAccrued","totalXenBurned","totalXenBurnedPreviousCycle","Card","CardContent","Typography","component","fees","alt","CardActions","CyclePanel","currentReward","setCurrentReward","currentCycleReward","cycleReward","RewardsPanel","rewardsUnclaimed","setRewardsUnclaimed","feeSharePercentage","setFeeSharePercentage","getUnclaimedRewards","getAccWithdrawableStake","accWithdrawableStake","parseFloat","add","currentStartedCycle","summedCycleStakes","totalSupply","feeShare","Math","round","fetchClaimRewardsResult","sendClaimRewardsTx","claimRewards","rewardsAccrued","finance","StakeUnstake","alignment","setAlignment","userStakedAmount","setUserStakedAmount","userUnstakedAmount","setUserUnstakedAmount","tokensForUnstake","setTokenForUnstake","totalStaked","setTotalStaked","amountToUnstake","setAmountToUnstake","amountToStake","setAmountToStake","approved","setApproved","localStorage","getItem","theme","setTheme","accFirstStake","firstStakeCycle","accSecondStake","secondStakeCycle","accStakeCycle","firstStakeCycleAmount","secondStakeCycleAmount","withdawbleStake","totalStakedAmount","DBXenERC20","deb0xERC20Contract","slice","indexOf","allowance","fetchUnstakeResult","sendUnstakeTx","unstake","fetchStakeResult","sendStakeTx","stake","setStakedAmount","totalAmountStaked","setTokensForUntakedAmount","setUnstakedAmount","ToggleButtonGroup","exclusive","newAlignment","ToggleButton","coinBagDark","coinBagLight","walletDark","walletLight","Grid","container","item","OutlinedInput","placeholder","inputProps","min","Button","initialThemeState","_value","ThemeContext","createContext","ThemeProvider","children","savedThemeLocal","setItem","Provider","formatAccountName","substring","length","ConnectorNames","tokenSymbol","connectorsByName","Injected","AppBarComponent","activate","deactivate","networkName","ensName","setEnsName","anchorEl","setAnchorEl","setOpen","floorPrecised","lookupAddress","power","pow","floor","currentStake","pendingStakeWithdrawal","sub","ethereum","params","symbol","decimals","checkENS","filterFrom","filters","Transfer","filterTo","on","removeAllListeners","handleClick","currentTarget","ClickAwayListener","onClickAway","logo","currentConnector","activating","connected","toLowerCase","Popper","navigator","clipboard","writeText","copyIcon","addToken","walletIcon","disconnectIcon","maintenance","process","REACT_APP_MAINTENANCE_MODE","Network","getLibrary","Web3Provider","pollingInterval","web3App","App","errorMsg","selectedIndex","setSelectedIndex","triedEager","active","tried","setTried","isAuthorized","useEagerConnect","displayErrorMsg","chainName","rpcUrls","blockExplorerUrls","nativeCurrency","suppress","handleConnect","handleChainChanged","handleAccountsChanged","accounts","handleNetworkChanged","networkId","removeListener","useInactiveListener","switchNetwork","err","style","flexDirection","alignItems","marginTop","marginBottom","maintenanceImg","elephant","deb0xen","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b588aafa.chunk.js","sourcesContent":["\nimport { InjectedConnector } from '@web3-react/injected-connector'\nimport { NetworkConnector } from '@web3-react/network-connector'\n\n// const POLLING_INTERVAL = 12000\nconst RPC_URLS: { [chainId: number]: string } = {\n    137: 'https://polygon-mainnet.g.alchemy.com/v2/qthz4_6kfuPquCG5N1A6v5Waz9YW0pNZ'\n}\n\nexport const injected = new InjectedConnector({ supportedChainIds: [137] })\n\nexport const network = new NetworkConnector({\n    urls: { 137: RPC_URLS[137] },\n    defaultChainId: 137\n  })","import React, { useState, useEffect } from 'react'\n\nexport default function useWindowSize() {\n    // Initialize state with undefined width/height so server and client renders match\n    // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\n    const [windowSize, setWindowSize] = useState({\n      width: 0,\n      height: 0,\n    });\n    useEffect(() => {\n      // Handler to call on window resize\n      function handleResize() {\n        // Set window width/height to state\n        setWindowSize({\n          width: window.innerWidth,\n          height: window.innerHeight,\n        });\n      }\n      // Add event listener\n      window.addEventListener(\"resize\", handleResize);\n      // Call handler right away so state gets updated with initial window size\n      handleResize();\n      // Remove event listener on cleanup\n      return () => window.removeEventListener(\"resize\", handleResize);\n    }, []); // Empty array ensures that effect is only run on mount\n    return windowSize;\n  }","import { useState, forwardRef, useEffect } from 'react'\nimport Snackbar from '@mui/material/Snackbar';\nimport MuiAlert, { AlertProps } from '@mui/material/Alert';\n\nconst Alert = forwardRef<HTMLDivElement, AlertProps>(function Alert(\n  props,\n  ref,\n) {\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\nexport default function SnackbarNotification(props: any) {\n\n  const [state, setState] = useState({ severity: props.state.severity, open: props.state.open, message: props.state.message })\n\n  useEffect(() => {\n    setState({severity: props.state.severity, open: props.state.open, message: props.state.message})\n  }, [props])\n\n  const handleClose = (event?: React.SyntheticEvent | Event, reason?: string) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setState({\n      message: state.message, open: false,\n      severity: state.severity\n    })\n  };\n\n  return (\n    <Snackbar open={state.open} autoHideDuration={6000} onClose={handleClose}>\n      <Alert onClose={handleClose} severity={state.severity} sx={{ width: '100%' }}>\n        {state.message}\n      </Alert>\n    </Snackbar>\n  )\n}","export default __webpack_public_path__ + \"static/media/file-icon.92106822.svg\";","import { ethers } from \"ethers\";\n\nconst { abi } = require(\"./XENCrypto.json\");\n\nexport default (signerOrProvider, address) => {\n    return new ethers.Contract(address, abi, signerOrProvider);\n}","import { ethers } from \"ethers\";\n\nconst { abi } = require(\"./DBXen.json\");\n\nexport default (signerOrProvider, address) => {\n  return new ethers.Contract(address, abi, signerOrProvider);\n}","// <!-- By Sam Herbert (@sherb), for everyone. More @ http://goo.gl/7AJzbL -->\nexport function Spinner({ color, ...rest }: any) {\n    return (\n        <svg width=\"38\" height=\"38\" viewBox=\"0 0 38 38\" \n            xmlns=\"http://www.w3.org/2000/svg\" stroke={color} {...rest}>\n            <g fill=\"none\" fillRule=\"evenodd\">\n                <g transform=\"translate(1 1)\" strokeWidth=\"2\">\n                    <circle strokeOpacity=\".5\" cx=\"18\" cy=\"18\" r=\"18\" />\n                    <path d=\"M36 18c0-9.94-8.06-18-18-18\">\n                    <animateTransform\n                        attributeName=\"transform\"\n                        type=\"rotate\"\n                        from=\"0 18 18\"\n                        to=\"360 18 18\"\n                        dur=\"1s\"\n                        repeatCount=\"indefinite\" />\n                    </path>\n                </g>\n            </g>\n        </svg>\n    )\n}","import { useState, useEffect } from 'react';\nimport { useWeb3React } from '@web3-react/core';\nimport XENCrypto from '../../ethereum/XENCrypto';\nimport DBXen from \"../../ethereum/dbxen\"\nimport { ethers } from \"ethers\";\nimport \"../../componentsStyling/permanentDrawer.scss\";\nimport SnackbarNotification from './Snackbar';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport { Spinner } from './Spinner';\nimport axios, { Method } from 'axios';\nimport web3 from 'web3';\nconst { BigNumber } = require(\"ethers\");\n\nconst deb0xAddress = \"0xBc7FB353cCeb4dCad1dea187BC443EAca3360B76\";\nconst xenCryptoAddress = \"0x2AB0e9e4eE70FFf1fB9D67031E44F6410170d00e\";\n\nexport function Burn(): any {\n    const context = useWeb3React()\n    const { library, account } = context\n    const [notificationState, setNotificationState] = useState({});\n    const [value, setValue] = useState(1);\n    const [approveBrun, setApproveBurn] = useState<boolean>();\n    const [balanceGratherThanZero, checkBalance] = useState(\"\");\n    const [maticValue, setMaticValue] = useState<any>();\n    const [totalCost, setTotalCost] = useState<any>();\n    const [totalAmountOfXEN, setXENAmount] = useState<any>();\n    const [loading, setLoading] = useState(false)\n\n    useEffect( () => {\n        setApproveBurn(false)\n    }, [account]);\n\n    useEffect( () => {\n        setApproveBurn(false);\n        getCurrentGasLimit().then(async (data) => {\n            estimationValue(data).then(async (resut) =>{\n            setMaticValue(resut.fee);\n            })\n        })\n    },[value]);\n\n    useEffect( () => {\n        setApproveBurn(false);\n        getCurrentGasLimit().then(async (data) => {\n            estimationValue(data).then(async (resut) =>{\n                setTotalCost(resut.total);\n            })\n        })\n    },[value]);\n\n    useEffect( () => {\n        setXENAmount(value*2500000);\n    },[value]);\n\n    useEffect(() => {\n        setBalance()\n    }, [account,balanceGratherThanZero]);\n\n    async function setBalance(){\n        setLoading(true);\n        const signer = await library.getSigner(0)\n        const xenContract = await XENCrypto(signer, xenCryptoAddress);\n        let number;\n\n        await xenContract.balanceOf(account).then((balance: any) => {\n            number = ethers.utils.formatEther(balance);\n            checkBalance(number.toString()) \n            setLoading(false);\n        })\n    }\n\n    async function getCurrentPrice(){\n        let method: Method = 'POST';\n        const options = {\n            method: method,\n            url: 'https://polygon-mainnet.infura.io/v3/6010818c577b4531b1886965421a91d3 ',\n            port: 443,\n            headers: {\n                'Content-Type': 'application/json'\n              },\n            data: JSON.stringify({\n                \"jsonrpc\":\"2.0\",\"method\":\"eth_gasPrice\",\"params\": [],\"id\":1\n              })\n        };\n\n        let requestValue = await axios.request(options)\n        return web3.utils.fromWei(requestValue.data.result.toString(), \"Gwei\")\n    }\n\n    async  function estimationValue(gasLimitIntervalValue: number){\n        let price = Number(await getCurrentPrice());\n        let protocol_fee = value *(1 - 0.00005*value) ;\n        let fee = gasLimitIntervalValue * price * protocol_fee / 1000000000;\n        let totalValue = fee +(fee /((1- 0.00005*value) * value));\n        let obj = {fee:fee.toFixed(4), total:totalValue.toFixed(4)}\n        return obj;\n    }\n    \n    async function getCurrentGasLimit(){\n        const signer = await library.getSigner(0)\n        const deb0xContract = DBXen(signer, deb0xAddress)\n        let currentCycle = await deb0xContract.getCurrentCycle();\n        let numberBatchesBurnedInCurrentCycle;\n        let batchBurned = 0;\n\n        numberBatchesBurnedInCurrentCycle = await deb0xContract.cycleTotalBatchesBurned(currentCycle);\n        batchBurned =numberBatchesBurnedInCurrentCycle.toNumber();\n        \n        let gasLimitIntervalValue;\n            if(batchBurned != 0)\n                gasLimitIntervalValue = BigNumber.from(\"130000\");\n                    else\n                gasLimitIntervalValue = BigNumber.from(\"400000\");\n        return gasLimitIntervalValue;\n    }\n\n    async function setApproval() {\n        setLoading(true);\n        const signer = await library.getSigner(0)\n        const xenContract = await XENCrypto(signer, xenCryptoAddress)\n        let totalAmountToBurn = value * 2500000;\n        try {\n            const tx = await xenContract.approve(deb0xAddress, ethers.utils.parseEther(totalAmountToBurn.toString()))\n            tx.wait()\n                .then((result: any) => {\n                    setApproveBurn(true);\n                    setNotificationState({\n                        message: \"Your succesfully approved contract for burn.\", open: true,\n                        severity: \"success\"\n                    })\n                    setLoading(false)\n                })\n                .catch((error: any) => {\n                    setNotificationState({\n                        message: \"Contract couldn't be approved for burn!\", open: true,\n                        severity: \"error\"\n                    })\n                    setLoading(false)\n                })\n        } catch (error) {\n            setNotificationState({\n                message: \"You rejected the transaction. Contract hasn't been approved for burn.\", open: true,\n                severity: \"info\"\n            })\n            setLoading(false)\n        }\n    }\n\n    async function burnXEN(){\n        setLoading(true)\n        const signer = await library.getSigner(0)\n        const deb0xContract = DBXen(signer, deb0xAddress)\n        let gasLimitIntervalValue = await getCurrentGasLimit();\n        let currentValue = (await estimationValue(gasLimitIntervalValue)).fee;\n        try {\n            const overrides = \n                { value: ethers.utils.parseUnits(currentValue.toString(), \"ether\"),\n                    gasLimit:gasLimitIntervalValue }\n            const tx = await deb0xContract[\"burnBatch(uint256)\"](value,overrides)\n\n            await tx.wait()\n                .then((result: any) => {\n                    setNotificationState({\n                        message: \"Burn completed\",\n                        open: true,\n                        severity: \"success\"\n                    })\n                    setLoading(false)\n                    setApproveBurn(false)\n                })\n                .catch((error: any) => {\n                    setNotificationState({\n                        message: \"Something went wrong!\",\n                        open: true,\n                        severity: \"error\"\n                    })\n                    setLoading(false)\n                })\n            } catch (error: any) {\n                console.log(error.message)\n                setNotificationState({\n                    message: \"You rejected the transaction.\",\n                    open: true,\n                    severity: \"info\"\n                })\n                setLoading(false)\n            }\n    }\n\n    useEffect(() => {\n        setTimeout(() => {setNotificationState({})}, 2000)\n    }, [notificationState])\n\n    const handleInputChange = (e: any)=>{\n        if(value > 10000) {\n            setValue(10000)\n        } else {\n            setValue(e.target.value);\n        }\n    }\n\n    const incNum = () => {\n        if(value < 10000)\n            setValue(Number(value)+1);\n    };\n\n    const decNum = () => {\n        if(value > 1)\n            setValue(value - 1);\n    }\n\n    useEffect(() => {\n        if (value > 10000) {\n            setValue(10000)\n        }\n        if (value <= 0 ) {\n            setValue(1)\n        }\n    }, [value])\n    \n    return (\n        <>\n            <SnackbarNotification state={notificationState} \n                    setNotificationState={setNotificationState} />\n            <div className=\"side-menu--bottom burn-container\">\n                <div className=\"row\">\n                    <p className=\"text-center mb-0\">Choose the number of XEN batches you want to burn</p>\n                    <p className=\"text-center\">(1 batch = 2 500 000 XEN)</p>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col input-col\">\n                        <input type=\"number\" value={value} max=\"10000\" onChange={handleInputChange}/>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <button className=\"btn count-btn col\" type=\"button\" onClick={decNum}>-</button>\n                    <button className=\"btn count-btn col\" type=\"button\" onClick={incNum}>+</button>\n                </div>\n                <div className=\"row\">\n                    <button className=\"btn count-btn max-btn col\" type=\"button\" \n                        onClick={() => setValue(10000)}>MAX</button>\n                </div>\n                <div className=\"values-container\">\n                    <div className=\"value-content\">\n                        <p>Protocol Fee:</p>\n                        <p> ~{maticValue} MATIC</p>\n                    </div>\n                    <div className=\"value-content\">\n                        <p>Total transaction cost:</p>\n                        <p> ~{totalCost} MATIC</p>\n                    </div>\n                    <div className=\"value-content\">\n                        <p>Total XEN burned:</p>\n                        <p> {totalAmountOfXEN} XEN</p>\n                    </div>\n                </div>\n                {approveBrun ?\n                    <LoadingButton className=\"burn-btn\" \n                        loadingPosition=\"end\"\n                        onClick={() => burnXEN()} >\n                            {loading ? <Spinner color={'black'} /> : \"Burn XEN\" }\n                    </LoadingButton> :\n                    balanceGratherThanZero === '0.0' ||  balanceGratherThanZero === '0' ? \n                    <LoadingButton className=\"burn-btn\" \n                        loadingPosition=\"end\"\n                        disabled={ balanceGratherThanZero === '0.0' ||  balanceGratherThanZero === '0'}>\n                            {loading ? <Spinner color={'black'} /> : \"Your balance is 0!\" }\n                    </LoadingButton> :\n                    <LoadingButton className=\"burn-btn\" \n                        loadingPosition=\"end\"\n                        disabled={  balanceGratherThanZero === '0.0' ||  balanceGratherThanZero === '0'}\n                        onClick={() => setApproval()} >\n                            {loading ? <Spinner color={'black'} /> : \"Approve Burn XEN\" }\n                    </LoadingButton>\n                }\n            </div>\n        </>\n    )\n}\n","import React, { useState, useEffect, useContext, useDebugValue } from 'react';\nimport { useWeb3React } from '@web3-react/core';\nimport Box from '@mui/material/Box';\nimport Drawer from '@mui/material/Drawer';\nimport { injected } from '../../connectors';\nimport XENCrypto from '../../ethereum/XENCrypto';\nimport DBXen from \"../../ethereum/dbxen\"\nimport { ethers } from \"ethers\";\nimport \"../../componentsStyling/permanentDrawer.scss\";\nimport ScreenSize from '../Common/ScreenSize';\nimport SnackbarNotification from './Snackbar';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport { Spinner } from './Spinner';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTwitter, faGithub } from \"@fortawesome/free-brands-svg-icons\";\nimport document from \"../../photos/icons/file-icon.svg\";\nimport axios, { Method } from 'axios';\nimport web3 from 'web3';\nimport { Burn } from './Burn';\n\ndeclare global {\n    interface Window {\n        ethereum: any;\n    }\n}\n\nexport function PermanentDrawer(props: any): any {\n    const context = useWeb3React()\n    const { connector } = context\n    const [activatingConnector, setActivatingConnector] = useState<any>()\n    const dimensions = ScreenSize();\n    const [notificationState, setNotificationState] = useState({});\n    const [networkName, setNetworkName] = useState<any>();\n\n    useEffect(() => {\n        injected.supportedChainIds?.forEach(chainId => \n            setNetworkName((ethers.providers.getNetwork(chainId).name)));\n        if (activatingConnector && activatingConnector === connector) {\n            setActivatingConnector(undefined)\n        }\n    }, [activatingConnector, connector])\n\n    async function getCurrentPrice(){\n        let method: Method = 'POST';\n        const options = {\n            method: method,\n            url: 'https://polygon-mainnet.infura.io/v3/6010818c577b4531b1886965421a91d3 ',\n            port: 443,\n            headers: {\n                'Content-Type': 'application/json'\n              },\n            data: JSON.stringify({\n                \"jsonrpc\":\"2.0\",\"method\":\"eth_gasPrice\",\"params\": [],\"id\":1\n              })\n        };\n\n        let requestValue = await axios.request(options)\n        return web3.utils.fromWei(requestValue.data.result.toString(), \"Gwei\")\n    }\n\n    useEffect(() => {\n        setTimeout(() => {setNotificationState({})}, 2000)\n    }, [notificationState])\n    return (\n        <>\n            <SnackbarNotification state={notificationState} \n                setNotificationState={setNotificationState} />\n            {dimensions.width > 768 ?\n                <Box className=\"side-menu-box\" sx={{ display: 'flex' }}>\n                <Drawer variant=\"permanent\"\n                    anchor='left'\n                    className=\"side-menu\">\n                    <div className=\"image-container\">\n                        <div className=\"img\"></div>\n                    </div>\n                    <Burn />\n                    <div className=\"content\">\n                        <div className=\"social-media\">\n                            <a href=\"https://twitter.com/DBXen_crypto\" target=\"_blank\" className=\"logo-text-color\">\n                                <FontAwesomeIcon icon={faTwitter} size=\"xl\"/>\n                            </a>\n                            <a href=\"https://dbxen.gitbook.io/dbxen-litepaper/\" target=\"_blank\" className=\"logo-text-color\">\n                                <img src={document} />\n                            </a>\n                            <a href=\"https://github.com/dbxen\" target=\"_blank\" className=\"logo-text-color\">\n                                <FontAwesomeIcon icon={faGithub} size=\"xl\"/>\n                            </a>\n                        </div>\n                    </div>\n                </Drawer>\n            </Box> : <></>\n            }\n            \n        </>\n    );\n}","import { ethers } from \"ethers\";\n\nconst { abi } = require(\"./DBXenViews.json\");\n\nexport default (signerOrProvider, address) => {\n    return new ethers.Contract(address, abi, signerOrProvider);\n}","import { ethers } from \"ethers\";\n\nconst { abi } = require(\"./DBXenERC20.json\");\n\nexport default (signerOrProvider, address) => {\n    return new ethers.Contract(address, abi, signerOrProvider);\n}\n","export default __webpack_public_path__ + \"static/media/coin-bag-solid--light.d9344235.svg\";","export default __webpack_public_path__ + \"static/media/token.0bd78e9a.svg\";","export default __webpack_public_path__ + \"static/media/coin-bag-solid--dark.b9b74873.svg\";","export default __webpack_public_path__ + \"static/media/wallet--light.60fbc32b.svg\";","export default __webpack_public_path__ + \"static/media/wallet--dark.307c5384.svg\";","export default __webpack_public_path__ + \"static/media/fees.50cb4df6.svg\";","export default __webpack_public_path__ + \"static/media/finance.d8ebf4c0.svg\";","const ethSigUtil = require('eth-sig-util');\n\nconst ethers = require('ethers')\n\nconst ethereumJsUtil = require('ethereumjs-util')\n\nconst GENERIC_PARAMS = 'address from,address to,uint256 value,uint256 gas,uint256 nonce,bytes data,uint256 validUntilTime'\nconst typeName = `ForwardRequest(${GENERIC_PARAMS})`\nconst typeHash = ethers.utils.id(typeName)\n\nconst EIP712Domain = [\n    { name: 'name', type: 'string' },\n    { name: 'version', type: 'string' },\n    { name: 'chainId', type: 'uint256' },\n    { name: 'verifyingContract', type: 'address' }\n];\n\nconst ForwardRequest = [\n    { name: 'from', type: 'address' },\n    { name: 'to', type: 'address' },\n    { name: 'value', type: 'uint256' },\n    { name: 'gas', type: 'uint256' },\n    { name: 'nonce', type: 'uint256' },\n    { name: 'data', type: 'bytes' },\n    { name: 'validUntilTime', type: 'uint256' }\n];\n\nfunction getMetaTxTypeData(chainId, verifyingContract) {\n    return {\n        types: {\n            EIP712Domain,\n            ForwardRequest,\n        },\n        domain: {\n            name: 'Forwarder',\n            version: '0.0.1',\n            chainId,\n            verifyingContract,\n        },\n        primaryType: 'ForwardRequest',\n    }\n};\n\nasync function signTypedData(signer, from, data) {\n    const [method, argData] = ['eth_signTypedData_v4', JSON.stringify(data)]\n    return await signer.send(method, [from, argData]);\n}\n\nasync function buildRequest(forwarder, input, valueParam) {\n    const value = valueParam ? valueParam : '0';\n    const nonce = await forwarder.getNonce(input.from).then(nonce => nonce.toString());\n    return { value, gas: '100000', nonce, validUntilTime: '0', ...input };\n}\n\nasync function buildTypedData(forwarder, request) {\n    const chainId = await forwarder.provider.getNetwork().then(n => n.chainId);\n    const typeData = getMetaTxTypeData(chainId, forwarder.address);\n    return {...typeData, message: request };\n}\n\nasync function getDomainSeparator(forwarder) {\n    const chainId = await forwarder.provider.getNetwork().then(n => n.chainId);\n    const typeData = getMetaTxTypeData(chainId, forwarder.address);\n    return ethereumJsUtil.bufferToHex(ethSigUtil.TypedDataUtils.hashStruct('EIP712Domain', typeData.domain, { EIP712Domain }, 'V4'))\n}\n\nexport async function signMetaTxRequest(signer, forwarder, input, value) {\n    const request = await buildRequest(forwarder, input, value);\n    const toSign = await buildTypedData(forwarder, request);\n    const signature = await signTypedData(signer, input.from, toSign);\n    const domainSeparator = await getDomainSeparator(forwarder)\n    return { typeHash, domainSeparator, signature, request };\n}","import { ethers } from 'ethers';\nimport { Forwarder as address } from '../deploy.json';\n\nconst { abi } = require(\"./Forwarder.json\");\n\nexport function createInstance(provider) {\n  return new ethers.Contract(address, abi, provider);\n}\n","import { useState, useEffect } from 'react';\nimport { useWeb3React } from '@web3-react/core';\nimport {\n    Card, CardActions, CardContent, Button, Grid,\n    Typography, Box, OutlinedInput\n} from '@mui/material';\n\nimport ToggleButton from '@mui/material/ToggleButton';\nimport ToggleButtonGroup from '@mui/material/ToggleButtonGroup';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport DBXen from \"../../ethereum/dbxen\"\nimport DBXenViews from \"../../ethereum/dbxenViews\";\nimport DBXenERC20 from \"../../ethereum/dbxenerc20\"\nimport SnackbarNotification from './Snackbar';\nimport { BigNumber, ethers } from \"ethers\";\nimport \"../../componentsStyling/stake.scss\";\nimport token from \"../../photos/icons/token.svg\"\nimport coinBagLight from \"../../photos/icons/coin-bag-solid--light.svg\";\nimport coinBagDark from \"../../photos/icons/coin-bag-solid--dark.svg\";\nimport walletLight from \"../../photos/icons/wallet--light.svg\";\nimport walletDark from \"../../photos/icons/wallet--dark.svg\";\nimport fees from \"../../photos/icons/fees.svg\";\nimport finance from \"../../photos/icons/finance.svg\";\nimport { signMetaTxRequest } from '../../ethereum/signer';\nimport { createInstance } from '../../ethereum/forwarder'\nimport dataFromWhitelist from '../../constants.json';\nimport useAnalyticsEventTracker from '../Common/GaEventTracker';\n\nconst { whitelist } = dataFromWhitelist;\nconst deb0xAddress = \"0xBc7FB353cCeb4dCad1dea187BC443EAca3360B76\";\nconst deb0xViewsAddress = \"0x07f38CCDdC4ADE1d0eA6DC97ab0687470Cc1CB15\";\nconst deb0xERC20Address = \"0x196383703b9910f38e25528858E67E63362ad68A\";\n\nexport function Stake(props: any): any {\n\n    const { account, library } = useWeb3React()\n    const [notificationState, setNotificationState] = useState({})\n    const gaEventTracker = useAnalyticsEventTracker('Stake');\n    const [totalXENBurned, setTotalXENBurned] = useState<any>();\n    const [previousCycleXENBurned, setPreviousCycleXENBurned] = useState<any>();\n\n    function FeesPanel() {\n        const [feesUnclaimed, setFeesUnclaimed] = useState(\"\")\n        const [loading, setLoading] = useState(false)\n\n        useEffect(() => {\n            feesAccrued()\n        }, [feesUnclaimed]);\n\n        useEffect(() => {\n            const totalXenBurned = async () =>{\n                setTotalXENBurned(await getTotalXenBurned())\n            }\n            totalXenBurned();\n        },[]);\n\n        useEffect(() => {\n            const totalXenBurnedPreviousCycle = async () =>{\n                setPreviousCycleXENBurned(await getTotalXenBurnedInPreviusCycle())\n            }\n            totalXenBurnedPreviousCycle();\n        },[]);\n\n        async function getTotalXenBurned(){\n            const signer = await library.getSigner(0)\n            const deb0xContract = DBXen(signer, deb0xAddress)\n            let numberBatchesBurnedInCurrentCycle = await deb0xContract.totalNumberOfBatchesBurned();\n            let batchBurned =numberBatchesBurnedInCurrentCycle.toNumber();\n            return batchBurned * 2500000;\n        }\n    \n        async function getTotalXenBurnedInPreviusCycle(){\n            const signer = await library.getSigner(0)\n            const deb0xContract = DBXen(signer, deb0xAddress)\n            let currentCycle = await deb0xContract.getCurrentCycle();\n            if(currentCycle != 0){\n                 let numberBatchesBurnedInCurrentCycle = await deb0xContract.cycleTotalBatchesBurned(currentCycle);\n                 let batchBurned = numberBatchesBurnedInCurrentCycle.toNumber();\n                 return batchBurned * 2500000;\n            }\n            return 0;\n        }\n\n\n        async function feesAccrued() {\n            const deb0xViewsContract = await DBXenViews(library, deb0xViewsAddress);\n            \n            const unclaimedRewards = await deb0xViewsContract.getUnclaimedFees(account);\n\n            setFeesUnclaimed(ethers.utils.formatEther(unclaimedRewards))\n        }\n\n        async function fetchClaimFeesResult(request: any, url: any) {\n            await fetch(url, {\n                method: 'POST',\n                body: JSON.stringify(request),\n                headers: { 'Content-Type': 'application/json' },\n            })\n                .then((response) => response.json())\n                .then(async (data) => {\n                    try{\n                        const {tx: txReceipt} = JSON.parse(data.result)\n                        if(txReceipt.status == 1){\n                            setNotificationState({\n                                message: \"You succesfully claimed your fees.\", open: true,\n                                severity: \"success\"\n                            })\n                        } else {\n                            setNotificationState({\n                                message: \"Fees couldn't be claimed!\", open: true,\n                                severity: \"error\"\n                            })\n                            setLoading(false)\n                        }\n                    } catch(error) {\n                        if(data.status == \"pending\") {\n                            setNotificationState({\n                                message: \"Your transaction is pending. Your fees should arrive shortly\",\n                                open: true,\n                                severity: \"info\"\n                            })\n                        } else if(data.status == \"error\") {\n                            setNotificationState({\n                                message: \"Transaction relayer error. Please try again\",\n                                open: true,\n                                severity: \"error\"\n                            })\n                        }\n                    }\n                    \n                })\n        }\n\n        async function sendClaimFeesTx(deb0xContract: any) {\n            try {\n                const tx = await deb0xContract.claimFees()\n\n                tx.wait()\n                    .then((result: any) => {\n                        setNotificationState({\n                            message: \"You succesfully claimed your fees.\", open: true,\n                            severity: \"success\"\n                        })\n                        //setLoading(false)\n\n                    })\n                    .catch((error: any) => {\n                        setNotificationState({\n                            message: \"Fees couldn't be claimed!\", open: true,\n                            severity: \"error\"\n                        })\n                        setLoading(false)\n                    })\n            } catch (error: any) {\n                setNotificationState({\n                    message: \"You rejected the transaction. Your fees haven't been claimed.\",\n                    open: true,\n                    severity: \"info\"\n                })\n                setLoading(false)\n            }\n        }\n\n        async function claimFees() {\n            setLoading(true)\n\n            const signer = await library.getSigner(0)\n\n            const deb0xContract = DBXen(signer, deb0xAddress)\n\n            \n            const from = await signer.getAddress();\n            if(whitelist.includes(from)) {\n                const url = \"https://api.defender.openzeppelin.com/autotasks/b939da27-4a61-4464-8d7e-4b0c5dceb270/runs/webhook/f662ac31-8f56-4b4c-9526-35aea314af63/SPs6smVfv41kLtz4zivxr8\";\n                const forwarder = createInstance(library)\n                const data = deb0xContract.interface.encodeFunctionData(\"claimFees()\")\n                const to = deb0xContract.address\n\n                try {\n                    const request = await signMetaTxRequest(library, forwarder, { to, from, data });\n\n                    gaEventTracker(\"Success: Claim fees\");\n        \n                    await fetchClaimFeesResult(request, url)\n        \n                } catch (error: any) {\n                    setNotificationState({\n                        message: \"You rejected the transaction. Fees were not claimed.\",\n                        open: true,\n                        severity: \"info\"\n                    })\n\n                    gaEventTracker(\"Rejected: Claim fees\");\n                }\n            } else {\n                await sendClaimFeesTx(deb0xContract)\n            }\n        }\n\n        return (\n            <>\n            <Card variant=\"outlined\" className=\"card-container\">\n                <CardContent className=\"row\">\n                    <div className=\"col-12 col-md-6 mb-2\">\n                        <Typography variant=\"h4\" component=\"div\" className=\"rewards mb-3\">\n                            Fees\n                        </Typography>\n                        <Typography >\n                            Your unclaimed MATIC fees:\n                        </Typography>\n                        <Typography variant=\"h6\" className=\"data-height\">\n                            <strong>{feesUnclaimed}</strong>\n                        </Typography>\n                    </div>\n                    <div className='col-12 col-md-6 d-flex justify-content-end align-items-start'>\n                        <img src={fees} alt=\"trophyRewards\" className=\"p-3\"/>\n                    </div>\n                </CardContent>\n                <CardActions className='button-container px-3'>\n                    <LoadingButton \n                        className=\"collect-btn\"\n                        disabled={feesUnclaimed==\"0.0\"}\n                        loading={loading}\n                        variant=\"contained\"\n                        onClick={claimFees}>\n                            Collect\n                    </LoadingButton>\n                </CardActions>\n            </Card>\n            </>\n        )\n    }\n\n    function CyclePanel() {\n        const [currentReward, setCurrentReward] = useState(\"\")\n        useEffect(() => {\n            cycleReward()\n        }, [currentReward]);\n        async function cycleReward() {\n            const deb0xContract = await DBXen(library, deb0xAddress);\n            const currentReward = await deb0xContract.currentCycleReward();\n            setCurrentReward(ethers.utils.formatEther(currentReward))\n        }\n        return (\n            <>\n            <Card variant=\"outlined\" className=\"card-container\">\n                <CardContent className=\"row\">\n                    <div className=\"col-12 col-md-12 mb-2\">\n                        <Typography variant=\"h4\" component=\"div\" className=\"rewards mb-3\">\n                            Daily stats\n                        </Typography>\n                        <Typography className=\"data-height\">\n                            Total amount of daily cycle DXN tokens: <strong>{currentReward}</strong>\n                        </Typography>\n                        <Typography className=\"data-height\">\n                            Total XEN burned: <strong>{totalXENBurned}</strong>\n                        </Typography>\n                        <Typography className=\"data-height\">\n                            Total XEN burned in previous cycle: <strong>{previousCycleXENBurned}</strong>\n                        </Typography>\n                    </div>\n                </CardContent>\n            </Card>\n            </>\n        )\n    }\n\n    function RewardsPanel() {\n        \n        const [rewardsUnclaimed, setRewardsUnclaimed] = useState(\"\")\n        const [feeSharePercentage, setFeeSharePercentage] = useState(\"\")\n        const [loading, setLoading] = useState(false)\n\n        useEffect(() => {\n            rewardsAccrued()\n        }, [rewardsUnclaimed]);\n\n        useEffect(() => {\n            feeShare()\n        }, [feeSharePercentage]);\n\n        async function rewardsAccrued() {\n            const deb0xViewsContract = await DBXenViews(library, deb0xViewsAddress);\n\n            const unclaimedRewards = await deb0xViewsContract.getUnclaimedRewards(account);\n         \n            setRewardsUnclaimed(ethers.utils.formatEther(unclaimedRewards))\n        }\n\n        async function feeShare() {\n            const deb0xViewsContract = await DBXenViews(library, deb0xViewsAddress);\n\n            const deb0xContract = await DBXen(library, deb0xAddress);\n\n            const unclaimedRewards = await deb0xViewsContract.getUnclaimedRewards(account);\n\n            const accWithdrawableStake = await deb0xViewsContract.getAccWithdrawableStake(account);\n            \n            let balance = parseFloat((ethers.utils.formatEther(unclaimedRewards.add(accWithdrawableStake))))\n            \n            const currentCycle = await deb0xContract.currentStartedCycle();\n\n            const totalSupply = await deb0xContract.summedCycleStakes(currentCycle);\n\n            const feeShare = balance * 100 / totalSupply\n            setFeeSharePercentage(((Math.round(feeShare * 100) / 100).toFixed(2)).toString() + \"%\")\n        }\n\n        async function fetchClaimRewardsResult(request: any, url: any) {\n            await fetch(url, {\n                method: 'POST',\n                body: JSON.stringify(request),\n                headers: { 'Content-Type': 'application/json' },\n            })\n                .then((response) => response.json())\n                .then(async (data) => {\n                    try{\n                        const {tx: txReceipt} = JSON.parse(data.result)\n                        if(txReceipt.status == 1){\n                            setNotificationState({\n                                message: \"You succesfully claimed your rewards.\", open: true,\n                                severity: \"success\"\n                            })\n                        } else {\n                            setNotificationState({\n                                message: \"Rewards couldn't be claimed!\", open: true,\n                                severity: \"error\"\n                            })\n                            setLoading(false)\n                        }\n                    } catch(error) {\n                        if(data.status == \"pending\") {\n                            setNotificationState({\n                                message: \"Your transaction is pending. Your rewards should arrive shortly\",\n                                open: true,\n                                severity: \"info\"\n                            })\n                        } else if(data.status == \"error\") {\n                            setNotificationState({\n                                message: \"Transaction relayer error. Please try again\",\n                                open: true,\n                                severity: \"error\"\n                            })\n                        }\n                    }\n                    \n                })\n        }\n\n        async function sendClaimRewardsTx(deb0xContract: any) {\n            try {\n                const tx = await deb0xContract.claimRewards()\n\n                tx.wait()\n                    .then((result: any) => {\n                        setNotificationState({\n                            message: \"You succesfully claimed your rewards.\", open: true,\n                            severity: \"success\"\n                        })\n                        //setLoading(false)\n\n                    })\n                    .catch((error: any) => {\n                        setNotificationState({\n                            message: \"Rewards couldn't be claimed!\", open: true,\n                            severity: \"error\"\n                        })\n                        setLoading(false)\n                    })\n            } catch (error: any) {\n                setNotificationState({\n                    message: \"You rejected the transaction. Your rewards haven't been claimed.\",\n                    open: true,\n                    severity: \"info\"\n                })\n                setLoading(false)\n            }\n        }\n\n        async function claimRewards() {\n            setLoading(true)\n\n            const signer = await library.getSigner(0)\n\n            const deb0xContract = DBXen(signer, deb0xAddress)\n\n            \n            const from = await signer.getAddress();\n            if(whitelist.includes(from)) {\n                const url = \"https://api.defender.openzeppelin.com/autotasks/b939da27-4a61-4464-8d7e-4b0c5dceb270/runs/webhook/f662ac31-8f56-4b4c-9526-35aea314af63/SPs6smVfv41kLtz4zivxr8\";\n                const forwarder = createInstance(library)\n                const data = deb0xContract.interface.encodeFunctionData(\"claimRewards()\")\n                const to = deb0xContract.address\n\n                try {\n                    const request = await signMetaTxRequest(library, forwarder, { to, from, data });\n\n                    gaEventTracker(\"Success: Claim rewards\");\n        \n                    await fetchClaimRewardsResult(request, url)\n        \n                } catch (error: any) {\n                    setNotificationState({\n                        message: \"You rejected the transaction. Rewards were not claimed.\",\n                        open: true,\n                        severity: \"info\"\n                    })\n\n                    gaEventTracker(\"Rejected: Claim rewards\");\n                }\n            } else {\n                await sendClaimRewardsTx(deb0xContract)\n            }\n        }\n\n        return (\n            <>\n            <Card variant=\"outlined\" className=\"card-container\">\n                <CardContent className=\"row\">\n                    <div className=\"col-12 col-md-6 mb-2\">\n                        <Typography variant=\"h4\" component=\"div\" className=\"rewards mb-3\">\n                            Rewards\n                        </Typography>\n                        <Typography >\n                            Your unclaimed DXN rewards:\n                        </Typography>\n                        <Typography variant=\"h6\" className=\"data-height\">\n                            <strong>{rewardsUnclaimed}</strong>\n                        </Typography>\n                    </div>\n                    <div className='col-12 col-md-6 d-flex justify-content-end align-items-start'>\n                        <img src={finance} alt=\"trophyRewards\" className=\"p-3\"/>\n                    </div>\n                </CardContent>\n                <CardActions className='button-container px-3'>\n                    <LoadingButton className=\"collect-btn\" loading={loading} variant=\"contained\" onClick={claimRewards}>Claim</LoadingButton>\n                </CardActions>\n            </Card>\n            </>\n        )\n    }\n\n    function floorPrecised(number:any) {\n        var power = Math.pow(10, 2);\n        return (Math.floor(parseFloat(number) * power) / power).toString();\n    }\n\n    function StakeUnstake() {\n        const [alignment, setAlignment] = useState(\"stake\");\n\n        const [userStakedAmount, setUserStakedAmount] = useState(\"\")\n        const [userUnstakedAmount, setUserUnstakedAmount] = useState(\"\")\n        const [tokensForUnstake, setTokenForUnstake] = useState(\"\");\n        const [totalStaked, setTotalStaked] = useState(\"\")\n        const [amountToUnstake, setAmountToUnstake] = useState(\"\")\n        const [amountToStake, setAmountToStake] = useState(\"\")\n        const [loading, setLoading] = useState(false)\n        const [approved, setApproved] = useState<Boolean | null>(false)\n        \n        const handleChange = (\n            event: React.MouseEvent<HTMLElement>,\n            newAlignment: string,\n        ) => {\n            setAlignment(newAlignment);\n            gaEventTracker(newAlignment + \" tab\");\n        };\n        \n        const [theme, setTheme] = useState(localStorage.getItem('globalTheme'));\n        useEffect(() => {\n            setTheme(localStorage.getItem('globalTheme'));\n        });\n\n        useEffect(() => {\n            setStakedAmount()\n        }, [userStakedAmount]);\n\n        useEffect(() => {\n            totalAmountStaked()\n        }, [totalStaked]);\n\n\n        useEffect(() => {\n            setTokensForUntakedAmount()\n        },[]);\n\n        useEffect(() => {\n            setUnstakedAmount()\n        }, [userUnstakedAmount]);\n\n        useEffect(() => {\n            setApproval()\n        }, [approved]);\n\n        async function setStakedAmount() {\n            const deb0xContract = await DBXen(library, deb0xAddress)\n            const deb0xViewsContract = await DBXenViews(library, deb0xViewsAddress)\n            const balance = await deb0xViewsContract.getAccWithdrawableStake(account)\n            let firstStakeCycle = await deb0xContract.accFirstStake(account)\n            let secondStakeCycle =  await deb0xContract.accSecondStake(account)\n            let firstStakeCycleAmount = await deb0xContract.accStakeCycle(account,firstStakeCycle);\n            let secondStakeCycleAmount = await deb0xContract.accStakeCycle(account,secondStakeCycle);\n            let withdawbleStake = await deb0xContract.accWithdrawableStake(account);\n            let totalStakedAmount = BigNumber.from(firstStakeCycleAmount).add(BigNumber.from(secondStakeCycleAmount)).add(BigNumber.from(withdawbleStake))\n            setUserStakedAmount(ethers.utils.formatEther(totalStakedAmount))\n        }\n\n        async function setTokensForUntakedAmount() {\n            const deb0xViewsContract = await DBXenViews(library, deb0xViewsAddress)\n            const balance = await deb0xViewsContract.getAccWithdrawableStake(account)\n            setTokenForUnstake(ethers.utils.formatEther(balance.toString()));\n        }\n\n        async function setUnstakedAmount() {\n            const deb0xERC20Contract = await DBXenERC20(library, deb0xERC20Address)\n            const balance = await deb0xERC20Contract.balanceOf(account)\n            let number = ethers.utils.formatEther(balance);\n            setUserUnstakedAmount(parseFloat(number.slice(0, (number.indexOf(\".\")) +3)).toString()) \n        }\n\n        async function setApproval() {\n            const deb0xERC20Contract = await DBXenERC20(library, deb0xERC20Address)\n\n            const allowance = await deb0xERC20Contract.allowance(account, deb0xAddress)\n            allowance > 0 ? setApproved(true) : setApproved(false)\n        }\n\n        async function totalAmountStaked() {\n\n            const deb0xContract = await DBXen(library, deb0xAddress)\n\n            const currentCycle = await deb0xContract.currentStartedCycle()\n\n            const totalSupply = await deb0xContract.summedCycleStakes(currentCycle)\n\n            setTotalStaked(ethers.utils.formatEther(totalSupply))\n        }\n\n        async function approveStaking() {\n            setLoading(true)\n\n            const signer = await library.getSigner(0)\n            const deb0xERC20Contract = await DBXenERC20(signer, deb0xERC20Address)\n\n            try {\n                const tx = await deb0xERC20Contract.approve(deb0xAddress, ethers.utils.parseEther(\"5010000\"))\n                tx.wait()\n                    .then((result: any) => {\n                        setNotificationState({\n                            message: \"Your succesfully approved contract for staking.\", open: true,\n                            severity: \"success\"\n                        })\n                        setLoading(false)\n\n                        gaEventTracker(\"Success: Approve staking\");\n\n                    })\n                    .catch((error: any) => {\n                        setNotificationState({\n                            message: \"Contract couldn't be approved for staking!\", open: true,\n                            severity: \"error\"\n                        })\n                        setLoading(false)\n                        gaEventTracker(\"Error: Approve staking\");\n                    })\n            } catch (error) {\n                setNotificationState({\n                    message: \"You rejected the transaction. Contract hasn't been approved for staking.\", open: true,\n                    severity: \"info\"\n                })\n                setLoading(false)\n                gaEventTracker(\"Rejected: Approve staking\");\n            }\n        }\n\n        async function fetchUnstakeResult(request: any, url: any) {\n            await fetch(url, {\n                method: 'POST',\n                body: JSON.stringify(request),\n                headers: { 'Content-Type': 'application/json' },\n            })\n                .then((response) => response.json())\n                .then(async (data) => {\n                    try{\n                        const {tx: txReceipt} = JSON.parse(data.result)\n                        if(txReceipt.status == 1){\n                            setNotificationState({\n                                message: \"Your tokens were succesfully unstaked.\", open: true,\n                                severity: \"success\"\n                            })\n                            setLoading(false)\n                        } else {\n                            setNotificationState({\n                                message: \"Your tokens couldn't be unstaked!\", open: true,\n                                severity: \"error\"\n                            })\n                            setLoading(false)\n                        }\n                    } catch(error) {\n                        if(data.status == \"pending\") {\n                            setNotificationState({\n                                message: \"Your transaction is pending. Your DXN should be unstaked shortly\",\n                                open: true,\n                                severity: \"info\"\n                            })\n                        } else if(data.status == \"error\") {\n                            setNotificationState({\n                                message: \"Transaction relayer error. Please try again\",\n                                open: true,\n                                severity: \"error\"\n                            })\n                            setLoading(false)\n                        }\n                    }\n                    \n                })\n        }\n\n        async function sendUnstakeTx(deb0xContract: any) {\n            try {\n                const tx = await deb0xContract.unstake(ethers.utils.parseEther(amountToUnstake.toString()))\n\n                tx.wait()\n                    .then((result: any) => {\n                        setNotificationState({\n                            message: \"Your tokens were succesfully unstaked.\", open: true,\n                            severity: \"success\"\n                        })\n                        setLoading(false)\n\n                    })\n                    .catch((error: any) => {\n                        setLoading(false)\n                        setNotificationState({\n                            message: \"Your tokens couldn't be unstaked!\", open: true,\n                            severity: \"error\"\n                        })\n\n                    })\n            } catch(error) {\n                setNotificationState({\n                    message: \"You rejected the transaction. Your tokens haven't been unstaked.\",\n                    open: true,\n                    severity: \"info\"\n                })\n                setLoading(false)\n            }\n        }\n\n        async function unstake() {\n            setLoading(true)\n\n            const signer = await library.getSigner(0)\n\n            const deb0xContract = DBXen(signer, deb0xAddress)\n            \n            const from = await signer.getAddress();\n            if(whitelist.includes(from)) {\n                const url = \"https://api.defender.openzeppelin.com/autotasks/b939da27-4a61-4464-8d7e-4b0c5dceb270/runs/webhook/f662ac31-8f56-4b4c-9526-35aea314af63/SPs6smVfv41kLtz4zivxr8\";\n                const forwarder = createInstance(library)\n                const data = deb0xContract.interface.encodeFunctionData(\"unstake\",\n                    [ethers.utils.parseEther(amountToUnstake.toString())])\n                const to = deb0xContract.address\n                try {\n                    const request = await signMetaTxRequest(library, forwarder, { to, from, data });\n\n                    gaEventTracker(\"Success: Unstake\");\n        \n                    await fetchUnstakeResult(request, url)\n        \n                } catch (error: any) {\n                    setNotificationState({\n                        message: \"You rejected the transaction. DXN were not unstaked.\",\n                        open: true,\n                        severity: \"info\"\n                    })\n                    setLoading(false)\n\n                    gaEventTracker(\"Rejected: Unstake\");\n                }\n            } else { \n                await sendUnstakeTx(deb0xContract)\n            }\n        }\n\n        async function fetchStakeResult(request: any, url: any) {\n            await fetch(url, {\n                method: 'POST',\n                body: JSON.stringify(request),\n                headers: { 'Content-Type': 'application/json' },\n            })\n                .then((response) => response.json())\n                .then(async (data) => {\n                    try{\n                        const {tx: txReceipt} = JSON.parse(data.result)\n                        if(txReceipt.status == 1){\n                            setNotificationState({\n                                message: \"You succesfully staked your DXN.\", open: true,\n                                severity: \"success\"\n                            })\n                        } else {\n                            setNotificationState({\n                                message: \"DXN couldn't be claimed!\", open: true,\n                                severity: \"error\"\n                            })\n                            setLoading(false)\n                        }\n                    } catch(error) {\n                        if(data.status == \"pending\") {\n                            setNotificationState({\n                                message: \"Your transaction is pending. Your DXN should be staked shortly\",\n                                open: true,\n                                severity: \"info\"\n                            })\n                        } else if(data.status == \"error\") {\n                            setNotificationState({\n                                message: \"Transaction relayer error. Please try again\",\n                                open: true,\n                                severity: \"error\"\n                            })\n                            setLoading(false)\n                        }\n                    }\n                    \n                })\n        }\n\n        async function sendStakeTx(deb0xContract: any) {\n            try {\n                const tx = await deb0xContract.stake(ethers.utils.parseEther(amountToStake.toString()))\n\n                tx.wait()\n                    .then((result: any) => {\n                        setNotificationState({\n                            message: \"Your tokens were succesfully staked.\", open: true,\n                            severity: \"success\"\n                        })\n                        //setLoading(false)\n\n                    })\n                    .catch((error: any) => {\n                        setNotificationState({\n                            message: \"Your tokens couldn't be staked!\", open: true,\n                            severity: \"error\"\n                        })\n                        setLoading(false)\n                    })\n            } catch(error) {\n                setNotificationState({\n                    message: \"You rejected the transaction. Your tokens haven't been staked.\",\n                    open: true,\n                    severity: \"info\"\n                })\n                setLoading(false)\n            }\n        }\n\n        async function stake() {\n            setLoading(true)\n\n            const signer = await library.getSigner(0)\n\n            const deb0xContract = DBXen(signer, deb0xAddress)\n            \n            const from = await signer.getAddress();\n            if(whitelist.includes(from)){\n                const url = \"https://api.defender.openzeppelin.com/autotasks/b939da27-4a61-4464-8d7e-4b0c5dceb270/runs/webhook/f662ac31-8f56-4b4c-9526-35aea314af63/SPs6smVfv41kLtz4zivxr8\";\n                const forwarder = createInstance(library)\n                const data = deb0xContract.interface.encodeFunctionData(\"stake\",\n                    [ethers.utils.parseEther(amountToStake.toString())])\n                const to = deb0xContract.address\n\n                try {\n                    const request = await signMetaTxRequest(library, forwarder, { to, from, data });\n\n                    gaEventTracker(\"Success: Stake\");\n        \n                    await fetchStakeResult(request, url)\n        \n                } catch (error: any) {\n                    setNotificationState({\n                        message: \"You rejected the transaction. DXN were not staked.\",\n                        open: true,\n                        severity: \"info\"\n                    })\n                    setLoading(false)\n                    gaEventTracker(\"Rejected: Stake\");\n                }\n            } else {\n                await sendStakeTx(deb0xContract)\n            }\n        }\n\n        return (\n            <Card variant = \"outlined\" className=\"card-container\">\n                <ToggleButtonGroup\n                    color=\"primary\"\n                    value={alignment}\n                    exclusive\n                    onChange={handleChange}\n                    className=\"tab-container\"\n                >\n                    <ToggleButton className=\"tab-btn\" value=\"stake\">Stake</ToggleButton>\n                    <ToggleButton className=\"tab-btn\" value=\"unstake\" >Unstake</ToggleButton>\n\n                </ToggleButtonGroup>\n              \n            {\n                alignment === \"stake\" ?\n                \n                <>\n                <CardContent className=\"row\">\n                    <div className=\"col-6 px-3\">\n                        <img className=\"display-element\" src={theme === \"classic\" ? coinBagDark : coinBagLight} alt=\"coinbag\" />\n                        <Typography className=\"p-0\">\n                            Your staked amount:\n                        </Typography>\n                        <Typography variant=\"h6\" className=\"p-0 data-height\">\n                            <strong>{userStakedAmount} DXN</strong>\n                        </Typography>\n                    </div>\n                    <div className=\"col-6 px-3\">\n                        <img className=\"display-element\" src={theme === \"classic\" ? walletDark : walletLight} alt=\"coinbag\" />\n                        <Typography className=\"p-0\">\n                            Your tokens in wallet:\n                        </Typography>\n                        <Typography variant=\"h6\" className=\"p-0\" data-height>\n                            <strong>{userUnstakedAmount} DXN</strong>\n                        </Typography>\n                    </div>\n                    {approved && <Grid className=\"amount-row px-3\" container>\n                        <Grid item>\n                            <OutlinedInput id=\"outlined-basic\"\n                                placeholder=\"Amount to stake\"\n                                type=\"number\"\n                                value={amountToStake}\n                                inputProps={{ min: 0 }}\n                                onChange={e => setAmountToStake(e.target.value)} />\n                        </Grid>\n                        <Grid className=\"max-btn-container\" item>\n                            <Button className=\"max-btn\" \n                                size=\"small\" variant=\"contained\" color=\"error\" \n                               onClick = {()=>setAmountToStake(userUnstakedAmount)  }>\n                                max\n                            </Button>\n                        </Grid>\n                    </Grid>}\n                </CardContent>\n                <CardActions className='button-container px-3'>\n                    {approved && <LoadingButton disabled={!amountToStake} className=\"collect-btn\" loading={loading} variant=\"contained\" onClick={stake}>Stake</LoadingButton>}\n                    {!approved &&\n                        <>\n                            <LoadingButton \n                                className=\"collect-btn\" \n                                loading={loading}\n                                variant=\"contained\"\n                                disabled={ userUnstakedAmount === '0.00' ||  userUnstakedAmount === '0'}\n                                onClick={approveStaking}>\n                                    Initialize Staking\n                            </LoadingButton>\n                            <span className=\"text\">\n                                Make sure you have DXN tokens in your wallet before you can stake them.\n                            </span>\n                        </> \n                    }\n                </CardActions>\n                </>\n                : \n\n                <>\n                <CardContent className=\"row\">\n                    <div className=\"col-6 px-3\">\n                        <img className=\"display-element\" src={theme === \"classic\" ? coinBagDark : coinBagLight} alt=\"coinbag\" />\n                        <Typography className=\"p-0\">\n                            Available to unstake:\n                        </Typography>\n                        <Typography variant=\"h6\" className=\"p-0\">\n                            <strong>{tokensForUnstake} DXN</strong>\n                        </Typography>\n                    </div>\n                    <div className=\"col-6 px-3\">\n                        <img className=\"display-element\" src={theme === \"classic\" ? walletDark : walletLight} alt=\"coinbag\" />\n                        <Typography className=\"p-0\">\n                            Your actual stake:\n                        </Typography>\n                        <Typography variant=\"h6\" className=\"p-0 data-height\">\n                            <strong>{userStakedAmount} DXN</strong>\n                        </Typography>\n                    </div>\n                  \n\n                    <Grid className=\"amount-row px-3\" container>\n                        <Grid item>\n                            <OutlinedInput value={amountToUnstake}\n                                id=\"outlined-basic\"\n                                className=\"max-field\"\n                                placeholder=\"Amount to unstake\"\n                                onChange={e => setAmountToUnstake(e.target.value)}\n                                inputProps={{ min: 0 }}\n                                type=\"number\" />\n                        </Grid>\n                        <Grid className=\"max-btn-container\" item>\n                            <Button className=\"max-btn\"\n                                size=\"small\" variant=\"contained\" color=\"error\" \n                                onClick = {()=>setAmountToUnstake(tokensForUnstake)  }>\n                                max\n                            </Button>\n                        </Grid>\n                    </Grid>\n                </CardContent>\n                <CardActions className='button-container px-3'>\n                    <LoadingButton className=\"collect-btn\" disabled={!amountToUnstake} loading={loading} variant=\"contained\" onClick={unstake}>Unstake</LoadingButton>\n                </CardActions>\n                </>\n            }\n\n            </Card>\n\n        )\n    }\n\n    function TotalStaked() {\n        const [totalStaked, setTotalStaked] = useState(\"\")\n        useEffect(() => {\n            totalAmountStaked()\n        }, [totalStaked]);\n    \n        async function totalAmountStaked() {\n    \n            const deb0xContract = await DBXen(library, deb0xAddress)\n\n            const currentCycle= await deb0xContract.currentStartedCycle()\n\n            const currentStake = await deb0xContract.summedCycleStakes(currentCycle)\n\n            const pendingStakeWithdrawal = await deb0xContract.pendingStakeWithdrawal()\n    \n            // setTotalStaked(ethers.utils.formatEther(currentStake))\n\n            setTotalStaked(floorPrecised(ethers.utils.formatEther(currentStake.sub(pendingStakeWithdrawal))))\n\n        }\n\n        return (\n            <Card className=\"heading-card\">\n                <CardContent>\n                    <Typography variant=\"h5\">\n                        Total tokens staked:\n                    </Typography>\n                    <Typography variant=\"h4\">\n                        <img className=\"logo\" src={token} />\n                        {totalStaked} DXN\n                    </Typography>\n                </CardContent>\n            </Card>\n        )\n    }\n\n    return (\n        <>\n            <SnackbarNotification state={notificationState} setNotificationState={setNotificationState} />\n            <Box className=\"content-box stake-content\">\n                <div className=\"cards-grid\">\n                    <div className='row'>\n                        <Grid item className=\"col col-12 col-md-6 \">\n                            <FeesPanel />\n                        </Grid>\n                        <Grid item className=\"col col-12 col-md-6\">\n                            <CyclePanel />\n                        </Grid>\n                    </div>\n                    <div className='row'>\n                        <Grid item className=\"col col-12 col-md-6 \">\n                            <RewardsPanel />\n                        </Grid>\n                        <Grid item className=\"col col-12 col-md-6\">\n                            <StakeUnstake/>\n                        </Grid>\n                    </div>\n                </div>\n            </Box>\n        </>\n    )\n}","import ReactGA from \"react-ga\";\n\nexport default function useAnalyticsEventTracker(category: string) {\n    const eventTracker = (action: string) => {\n      ReactGA.event({category, action});\n    }\n    return eventTracker;\n}","import { createContext } from \"react\";\n\nexport const initialThemeState = {\n  theme: \"dark\",\n  setTheme: (_value: string) => {}\n};\n\nconst ThemeContext = createContext(initialThemeState);\nexport default ThemeContext;","import { useState, useEffect } from \"react\";\nimport ThemeContext, { initialThemeState } from \"./ThemeContext\";\n\ntype Props = {\n    children: JSX.Element|JSX.Element[],\n};\n\nconst ThemeProvider = ( { children }: Props ) => {\n  const [theme, setTheme] = useState<any>(initialThemeState.theme);\n\n  const localStorage = window.localStorage;\n\n  useEffect(() => {\n    const savedThemeLocal = localStorage.getItem(\"globalTheme\");\n\n    if (!!savedThemeLocal) {\n      setTheme(savedThemeLocal);\n    }\n  }, [localStorage]);\n\n  useEffect(() => {\n    localStorage.setItem(\"globalTheme\", theme);\n  }, [theme, localStorage]);\n\n  return (\n    <ThemeContext.Provider value={{ theme, setTheme }}>\n      <div className={`theme theme--${theme}`}>{children}</div>\n    </ThemeContext.Provider>\n  );\n};\n\nexport default ThemeProvider;\n","export default __webpack_public_path__ + \"static/media/elephant.605d60c2.svg\";","export default __webpack_public_path__ + \"static/media/white_dbxen.8b09777a.svg\";","export default __webpack_public_path__ + \"static/media/empty.efc45323.png\";","export default function formatAccountName(account: string)\n{   \n    return `${account.substring(0, 5)}...${account.substring(account.length - 4)}`\n}","import { useEffect, useState } from 'react';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport { injected } from '../../connectors';\nimport { useWeb3React } from '@web3-react/core';\nimport { Spinner } from './Spinner';\nimport { ethers } from 'ethers';\nimport formatAccountName from '../Common/AccountName';\nimport DBXen from \"../../ethereum/dbxen\"\nimport DBXenViews from \"../../ethereum/dbxenViews\";\nimport DBXenERC20 from \"../../ethereum/dbxenerc20\"\nimport Popper from '@mui/material/Popper';\nimport ClickAwayListener from '@mui/base/ClickAwayListener';\nimport '../../componentsStyling/appBar.scss';\nimport copyIcon from '../../photos/icons/copy-1.svg';\nimport walletIcon from '../../photos/icons/wallet.svg';\nimport disconnectIcon from '../../photos/icons/diconnect.svg';\nimport logo from \"../../photos/white_dbxen.svg\";\n\nconst deb0xAddress = \"0xBc7FB353cCeb4dCad1dea187BC443EAca3360B76\";\nconst deb0xViewsAddress = \"0x07f38CCDdC4ADE1d0eA6DC97ab0687470Cc1CB15\";\nconst deb0xERC20Address = \"0x196383703b9910f38e25528858E67E63362ad68A\"\nconst tokenSymbol = 'DBXen';\n\nconst tokenDecimals = 18;\nenum ConnectorNames { Injected = 'Injected' };\n\nconst connectorsByName: { [connectorName in ConnectorNames]: any } = {\n    [ConnectorNames.Injected]: injected\n}\n\nexport function AppBarComponent(props: any): any {\n    const context = useWeb3React();\n    const { connector, library, chainId, account, activate, deactivate } = context\n    const [activatingConnector, setActivatingConnector] = useState<any>();\n    const [networkName, setNetworkName] = useState<any>();\n    const [userUnstakedAmount,setUserUnstakedAmount] = useState<any>(0);\n    const [ensName, setEnsName] = useState<any>(\"\");\n    const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n    const [, setNotificationState] = useState({})\n    const [theme, setTheme] = useState(localStorage.getItem('globalTheme'));\n    const [userStakedAmount, setUserStakedAmount] = useState(\"\")\n    const [rewardsUnclaimed, setRewardsUnclaimed] = useState(\"\")\n    const [open, setOpen] = useState<any>();\n    const deb0xViewsContract = DBXenViews(library, deb0xViewsAddress)\n    const [totalStaked, setTotalStaked] = useState(\"\")\n\n    const id = open ? 'simple-popper' : undefined;\n\n    if(library){\n        checkENS();\n        setUnstakedAmount();\n    }\n\n    useEffect(() => {\n        totalAmountStaked()\n    }, [totalAmountStaked]);\n\n    useEffect(() => {\n        setTheme(localStorage.getItem('globalTheme'));\n    }, []);\n\n    useEffect(() => {\n        injected.supportedChainIds?.forEach(chainId => \n            setNetworkName((ethers.providers.getNetwork(chainId).name)));\n        if (activatingConnector && activatingConnector === connector) {\n            setActivatingConnector(undefined)\n        }\n    }, [activatingConnector, connector]);\n\n    async function setUnstakedAmount() {\n        const deb0xERC20Contract = DBXenERC20(library, deb0xERC20Address)\n        if(account){\n            await deb0xERC20Contract.balanceOf(account).then((result: any) => \n                setUserUnstakedAmount(floorPrecised(ethers.utils.formatEther(result)))\n            )\n        }\n    }\n\n    useEffect(() => {\n        const deb0xERC20Contract = DBXenERC20(library, deb0xERC20Address)\n        const filterFrom = deb0xERC20Contract.filters.Transfer(account)\n        const filterTo =  deb0xERC20Contract.filters.Transfer(null, account)\n        deb0xERC20Contract.on(filterFrom, () => {\n            setUnstakedAmount()\n        })\n        deb0xERC20Contract.on(filterTo, () => {\n            setUnstakedAmount()\n        })\n\n        return () => {\n            deb0xERC20Contract.removeAllListeners()\n        }\n    },[])\n\n    async function checkENS(){\n        if(chainId !== 137){\n            var name = await library.lookupAddress(account);\n            if(name !== null)\n            {   \n                setEnsName(name);\n            }\n        }\n       \n    }\n\n    function floorPrecised(number:any) {\n        var power = Math.pow(10, 2);\n        return (Math.floor(parseFloat(number) * power) / power).toString();\n    }\n\n    async function totalAmountStaked() {\n        const deb0xContract = DBXen(library, deb0xAddress)\n        const currentCycle= await deb0xContract.currentStartedCycle()\n        const currentStake = await deb0xContract.summedCycleStakes(currentCycle)\n        const pendingStakeWithdrawal = await deb0xContract.pendingStakeWithdrawal()\n        setTotalStaked(floorPrecised(ethers.utils.formatEther(currentStake.sub(pendingStakeWithdrawal))))\n    }\n\n    async function addToken() {\n        try {\n            const wasAdded = await window.ethereum.request({\n              method: 'wallet_watchAsset',\n              params: {\n                type: 'ERC20',\n                options: {\n                  address: deb0xERC20Address,\n                  symbol: tokenSymbol,\n                  decimals: tokenDecimals,\n                //   image: tokenImage,\n                },\n              },\n            });\n\n            if (wasAdded) {\n                setNotificationState({\n                    message: \"The token was added in your wallet\",\n                    open: true,\n                    severity: \"success\"\n                })      \n                setOpen(false)      \n            }\n            } catch (error: any) {\n                setNotificationState({\n                    message: \"There was an error. Try again later\",\n                    open: true,\n                    severity: \"info\"\n                })\n            }\n    }\n\n    function copyWalletID() {\n        if(account) {\n            navigator.clipboard.writeText(account)\n            setNotificationState({\n                message: \"The address ID was copied successfully\",\n                open: true,\n                severity: \"success\"\n            })\n        }\n        setOpen(false)\n        \n    }\n\n    async function rewardsAccrued() {\n        await deb0xViewsContract.getUnclaimedRewards(account).then((result: any) => \n            setRewardsUnclaimed(floorPrecised(ethers.utils.formatEther(result)))\n        )\n    }\n\n    async function setStakedAmount() {\n        await deb0xViewsContract.getAccWithdrawableStake(account).then((result: any) => \n            setUserStakedAmount(floorPrecised(ethers.utils.formatEther(result)))\n        )\n    }\n\n    const handleClick = (event: any) => {\n        rewardsAccrued();\n        setStakedAmount();\n        setUnstakedAmount();\n        const { currentTarget } = event;\n        setAnchorEl(currentTarget)\n        setOpen(!open)\n      };\n\n    const handleClickAway = () => {\n        setOpen(false)\n    };\n    \n    return (\n        <ClickAwayListener onClickAway={handleClickAway}>\n            <div>\n                <div className=\"app-bar--top\">\n                    <img className=\"logo\" src={logo} alt=\"logo\" />\n                    <Box className=\"main-menu--left\">\n                        <p className=\"mb-0\">Total tokens staked: {totalStaked} DXN</p>\n                    </Box>\n                    <Box className=\"main-menu--right\">\n                    \n                    { (() =>  {\n                        const currentConnector = connectorsByName[ConnectorNames.Injected]\n                        const activating = currentConnector === activatingConnector\n                        const connected = currentConnector === connector\n\n                        return (\n                            <Button variant=\"contained\"\n                                key={ConnectorNames.Injected}\n                                aria-describedby={id}\n                                onClick={!connected ? \n                                    () => {\n                                        setActivatingConnector(currentConnector)\n                                        activate(currentConnector)\n                                    } : \n                                    handleClick\n                                }>\n                                \n                                { activating ? \n                                    <Spinner color={'black'} /> :\n                                    !connected ? \n                                        \"Connect Wallet\" :\n                                        <span>\n                                            {account === undefined ? \n                                                `Unsupported Network. Switch to ${networkName}` : \n                                                account ? \n                                                    ensName === \"\" ? \n                                                        `${formatAccountName(account)}` :\n                                                        `${ensName.toLowerCase()} \n                                                        (${formatAccountName(account)})`\n                                                : ''}\n                                        </span>\n                                }\n                            </Button>\n                        )\n                    }) ()}\n                    </Box>\n                </div>\n                <Popper className={`popper ${theme === \"classic\" ? \"classic\" : \"dark\"}` } id={id} open={open} anchorEl={anchorEl}>\n                    <ul>\n                        <li>\n                            Unclaimed rewards: <br/> \n                            <b>{rewardsUnclaimed} <span>DXN</span></b>\n                        </li>\n                        <li>\n                            Active stake: <br/> \n                            <b>{userStakedAmount} <span>DXN</span></b>\n                        </li>\n                        <li>\n                            In wallet: <br/> \n                            <b>{userUnstakedAmount} <span>DXN</span></b>\n                        </li>\n                    </ul>\n                    <Button \n                        onClick={(event: any) => {\n                            copyWalletID()\n                        }}\n                        className=\"copy-wallet-btn\">\n                        <span><img src={copyIcon} alt=\"copy\" /></span>Copy wallet ID\n                    </Button>\n                    <Button\n                        onClick={(event: any) => {\n                            addToken()\n                        }}\n                        className=\"add-token-btn\">\n                         <span><img src={walletIcon} alt=\"wallet\"/></span>Add token to wallet\n                    </Button>\n                    <Button \n                        onClick={(event: any) => {\n                            handleClick(event)\n                            deactivate()\n                        }}\n                            className=\"logout-btn\">\n                             <span><img src={disconnectIcon} alt=\"disconnect\"/></span>Disconnect wallet\n                    </Button>  \n\n                </Popper>\n            </div>\n        </ClickAwayListener>\n    );\n}\n","export default __webpack_public_path__ + \"static/media/copy-1.6be37e8f.svg\";","export default __webpack_public_path__ + \"static/media/wallet.0d69376a.svg\";","export default __webpack_public_path__ + \"static/media/diconnect.a287fc1c.svg\";","import { useState, useEffect } from 'react';\nimport './App.css';\nimport { \n    Web3ReactProvider,\n    useWeb3React\n} from '@web3-react/core';\nimport { ethers } from \"ethers\";\nimport { useEagerConnect, useInactiveListener } from './hooks'\nimport { PermanentDrawer } from './components/App/PermanentDrawer'\nimport { Stake } from './components/App/Stake';\nimport { Box, Button } from '@mui/material';\nimport ThemeProvider from './components/Contexts/ThemeProvider';\nimport './index.scss';\nimport { injected, network } from './connectors';\nimport elephant from './photos/icons/elephant.svg';\nimport deb0xen from './photos/white_dbxen.svg';\nimport maintenanceImg from './photos/empty.png';\nimport { Spinner } from './components/App/Spinner';\nimport { AppBarComponent } from './components/App/AppBar';\nimport { Burn } from './components/App/Burn';\nimport ScreenSize from './components/Common/ScreenSize';\n\nconst maintenance = process.env.REACT_APP_MAINTENANCE_MODE;\n\n\nenum ConnectorNames { Injected = 'Injected', Network = 'Network' };\n\nconst connectorsByName: { [connectorName in ConnectorNames]: any } = {\n  [ConnectorNames.Injected]: injected,\n  [ConnectorNames.Network]: network\n}\n\nfunction getLibrary(provider: any): ethers.providers.Web3Provider {\n  const library = new ethers.providers.Web3Provider(provider)\n\n  library.pollingInterval = 12000\n  return library\n}\n\nexport default function web3App() {\n  return (\n    <Web3ReactProvider getLibrary={getLibrary}>\n      <App />\n    </Web3ReactProvider>\n  )\n}\n\nfunction App() {\n    const context = useWeb3React<ethers.providers.Web3Provider>()\n    const { connector, account, activate } = context\n    const [selectedIndex, setSelectedIndex] = useState<any>(0);\n    // handle logic to recognize the connector currently being activated\n    const [activatingConnector, setActivatingConnector] = useState<any>()\n    const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n    const [networkName, setNetworkName] = useState<any>();\n    let errorMsg;\n    const dimensions = ScreenSize();\n    \n    useEffect(() => {\n        injected.supportedChainIds?.forEach(chainId => \n            setNetworkName((ethers.providers.getNetwork(chainId).name)));\n        if (activatingConnector && activatingConnector === connector) {\n            setActivatingConnector(undefined)\n        }\n    }, [activatingConnector, connector])\n\n    // handle logic to eagerly connect to the injected ethereum provider, if it exists and has granted access already\n    const triedEager = useEagerConnect()\n\n    // handle logic to connect in reaction to certain events on the injected ethereum provider, if it exists\n    useInactiveListener(!triedEager || !!activatingConnector)\n\n    function handleClick (event: React.MouseEvent<HTMLElement>) {\n        setAnchorEl(anchorEl ? null : event.currentTarget);\n    };\n\n    useEffect(() => {   \n        window.ethereum ?\n            window.ethereum.request({method: \"eth_requestAccounts\"}).then(() => {\n                switchNetwork();               \n            }).catch((err: any) => displayErrorMsg(err))\n            : displayErrorMsg(\"Please install MetaMask\")\n        }, [])\n\n    async function switchNetwork() {\n        try {\n            await window.ethereum.request({\n            method: 'wallet_switchEthereumChain',\n            params: [{ chainId: \"0x89\"}],\n            }).then(\n                displayErrorMsg(\"You have switched to the right network\")\n            );            \n        } catch (switchError) {\n            try {\n                await window.ethereum.request({\n                method: 'wallet_addEthereumChain',\n                params: [\n                    {\n                        chainId: '0x89', \n                        chainName:'Polygon Network',\n                        rpcUrls:['https://rpc-mainnet.maticvigil.com'],                   \n                        blockExplorerUrls:['https://polygonscan.com/'],  \n                        nativeCurrency: { \n                        symbol:'Matic',   \n                        decimals: 18\n                        }       \n                    }\n                    ]});\n            } catch (err) {\n                displayErrorMsg(\"Cannot switch to the network\");\n            }\n        }\n        \n    }\n\n    function displayErrorMsg(error: string) {\n        errorMsg = error;\n        return errorMsg;\n    }\n    \n    return (\n\n    <>\n    <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n        {!!errorMsg &&\n            <p className='alert alert-danger position-fixed' style={{ marginTop: '4rem', marginBottom: '0' }}>\n                {displayErrorMsg(errorMsg)}\n            </p>\n        }\n    </div>\n        <ThemeProvider>\n        { account ? \n            <div className=\"app-container container-fluid\">\n                { maintenance === \"true\" ?\n                    <div className=\"row main-row maintenance-mode\">\n                        <img className=\"maintenance-img\" src={maintenanceImg} alt=\"maintenance\" />\n                        <h1>Maintenance Mode</h1>\n                        <h4>We're tightening some nuts and bolts round the back. We'll be back up and running soon.</h4>\n                    </div> :\n                    <div className=\"row main-row\">\n                        <div className=\"col col-lg-3 col-12 p-0 side-menu-container\">\n                            <PermanentDrawer />\n                        </div>\n                        <div className=\"col col-lg-9 col-12\">\n                            <AppBarComponent />\n                            \n                            <Box className=\"main-container\" sx={{marginTop: 12}}>\n                            {dimensions.width > 768 ? \n                                <Stake /> :\n                                <>\n                                    {selectedIndex === 0 && <Burn /> }\n                                    {selectedIndex === 1 && <Stake /> }\n                                </>\n                            }\n                            </Box>\n                        </div>\n                    </div>\n                }\n                <div className=\"navigation-mobile\">\n                    <div className={`navigation-item ${selectedIndex === 0 ? \"active\" : \"\"}`}\n                        onClick={() => setSelectedIndex(0)}>\n                            Mint\n                    </div>\n                    <div className={`navigation-item ${selectedIndex === 1 ? \"active\" : \"\"}`}\n                        onClick={() => setSelectedIndex(1)}>\n                            Fees\n                    </div>\n                </div>\n            </div> :\n            <div className=\"app-container p-0 \">\n                <div className=\"initial-page\">\n                    <div className=\"row\">\n                        <div className=\"col-lg-7 img-container mr-4\">\n                            <img className=\"image--left\" src={elephant} alt=\"elephant\" />\n                            <div className=\"img-content\">\n                                <p>Connect your wallet</p>\n                                <p>Burn $XEN</p>\n                                <p>Earn crypto</p>\n                                  \n                                <div>\n                                    { (() =>  {\n                                        const currentConnector = connectorsByName[ConnectorNames.Injected]\n                                        const activating = currentConnector === activatingConnector\n                                        const connected = currentConnector === connector\n\n                                        return (\n                                            <Button variant=\"contained\"\n                                                key={ConnectorNames.Injected}\n                                                // aria-describedby={id}\n                                                onClick={!connected ? \n                                                    () => {\n                                                        setActivatingConnector(currentConnector)\n                                                        activate(currentConnector)\n                                                    } : \n                                                    handleClick}\n                                                    className=\"connect-button\">\n                                                \n                                                { activating ? \n                                                    <Spinner color={'black'} /> :\n                                                    !connected ? \n                                                        \"Connect\" :\n                                                        <span>\n                                                            {typeof window.ethereum === 'undefined' ? \n                                                                `Check your prerequisites` : \n                                                                account === undefined ? `Unsupported Network. Switch to ${networkName}` : ''}\n                                                        </span>\n                                                }\n                                            </Button>\n                                        )\n                                    }) ()}\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"col-12 col-lg-5 text-center\">\n                            <div className=\"text-container\">\n                                <img className=\"dark-logo\" src={deb0xen} alt=\"logo\" />\n                                <p>\n                                    Community built crypto protocol <br/> contributing to XEN deflation\n                                </p>\n                                <div className=\"connect-mobile\">\n                                    { (() =>  {\n                                        const currentConnector = connectorsByName[ConnectorNames.Injected]\n                                        const activating = currentConnector === activatingConnector\n                                        const connected = currentConnector === connector\n\n                                        return (\n                                            <Button variant=\"contained\"\n                                                key={ConnectorNames.Injected}\n                                                // aria-describedby={id}\n                                                onClick={!connected ? \n                                                    () => {\n                                                        setActivatingConnector(currentConnector)\n                                                        activate(currentConnector)\n                                                    } : \n                                                    handleClick}\n                                                    className=\"connect-button\">\n                                                \n                                                { activating ? \n                                                    <Spinner color={'black'} /> :\n                                                    !connected ? \n                                                        \"Connect\" :\n                                                        <span>\n                                                            {typeof window.ethereum === 'undefined' ? \n                                                                `Check your prerequisites` : \n                                                                account === undefined ? `Unsupported Network. Switch to ${networkName}` : ''}\n                                                        </span>\n                                                }\n                                            </Button>\n                                        )\n                                    }) ()}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        }\n        </ThemeProvider>\n    </>\n  )\n}\n\n\n","import { useState, useEffect } from 'react'\nimport { useWeb3React } from '@web3-react/core'\n\nimport { injected } from './connectors'\n\nexport function useEagerConnect() {\n  const { activate, active } = useWeb3React()\n\n  const [tried, setTried] = useState(false)\n\n  useEffect(() => {\n    injected.isAuthorized().then((isAuthorized: boolean) => {\n      if (isAuthorized) {\n        activate(injected, undefined, true).catch(() => {\n          setTried(true)\n        })\n      } else {\n        setTried(true)\n      }\n    })\n  }, [activate]) // intentionally only running on mount (make sure it's only mounted once :))\n\n  // if the connection worked, wait until we get confirmation of that to flip the flag\n  useEffect(() => {\n    if (!tried && active) {\n      setTried(true)\n    }\n  }, [tried, active])\n\n  return tried\n}\n\nexport function useInactiveListener(suppress: boolean = false) {\n  const { active, error, activate } = useWeb3React()\n\n  useEffect((): any => {\n    const { ethereum } = window as any\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\n      const handleConnect = () => {\n        activate(injected)\n      }\n      const handleChainChanged = (chainId: string | number) => {\n        activate(injected)\n      }\n      const handleAccountsChanged = (accounts: string[]) => {\n        if (accounts.length > 0) {\n          activate(injected)\n        }\n      }\n      const handleNetworkChanged = (networkId: string | number) => {\n        activate(injected)\n      }\n\n      ethereum.on('connect', handleConnect)\n      ethereum.on('chainChanged', handleChainChanged)\n      ethereum.on('accountsChanged', handleAccountsChanged)\n      ethereum.on('networkChanged', handleNetworkChanged)\n\n      return () => {\n        if (ethereum.removeListener) {\n          ethereum.removeListener('connect', handleConnect)\n          ethereum.removeListener('chainChanged', handleChainChanged)\n          ethereum.removeListener('accountsChanged', handleAccountsChanged)\n          ethereum.removeListener('networkChanged', handleNetworkChanged)\n        }\n      }\n    }\n  }, [active, error, suppress, activate])\n}","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}